<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Orlithaâ€™s Court Fitness Plan</title>
  <style>
    body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;max-width:860px;margin:24px auto;padding:0 16px;line-height:1.4}
    h1{margin:0 0 6px 0}
    .sub{opacity:.75;margin:0 0 18px 0}
    .grid{display:grid;grid-template-columns:1fr 1fr;gap:12px}
    @media (max-width:700px){.grid{grid-template-columns:1fr}}
    .card{border:1px solid #ddd;border-radius:12px;padding:14px}
    label{display:block;font-weight:600;margin-bottom:6px}
    select,input{width:100%;padding:10px;border-radius:10px;border:1px solid #ccc}
    .row{display:grid;grid-template-columns:1fr 180px;gap:10px;align-items:end}
    @media (max-width:700px){.row{grid-template-columns:1fr}}
    .total{font-size:22px;font-weight:800}
    .muted{opacity:.75}
    .btns{display:flex;gap:10px;flex-wrap:wrap;margin-top:10px}
    button{padding:10px 12px;border-radius:10px;border:1px solid #ccc;background:#f7f7f7;cursor:pointer}
    button:hover{background:#eee}
    .fineprint{font-size:12px;opacity:.7;margin-top:12px}
  </style>
</head>
<body>
  <h1>ðŸ‘‘ Orlithaâ€™s Court Fitness Plan</h1>
  <p class="sub">Pick a few servant duties, set the time, and the court will calculate the burned calories.</p>

  <div class="grid">
    <div class="card">
      <div class="row">
        <div>
          <label for="task1">Duty I</label>
          <select id="task1"></select>
        </div>
        <div>
          <label for="h1">Hours</label>
          <input id="h1" type="number" min="0" step="0.25" value="1">
        </div>
      </div>

      <div class="row" style="margin-top:10px">
        <div>
          <label for="task2">Duty II</label>
          <select id="task2"></select>
        </div>
        <div>
          <label for="h2">Hours</label>
          <input id="h2" type="number" min="0" step="0.25" value="1">
        </div>
      </div>

      <div class="row" style="margin-top:10px">
        <div>
          <label for="task3">Duty III</label>
          <select id="task3"></select>
        </div>
        <div>
          <label for="h3">Hours</label>
          <input id="h3" type="number" min="0" step="0.25" value="1">
        </div>
      </div>

      <div class="row" style="margin-top:10px">
        <div>
          <label for="task4">Duty IV</label>
          <select id="task4"></select>
        </div>
        <div>
          <label for="h4">Hours</label>
          <input id="h4" type="number" min="0" step="0.25" value="0">
        </div>
      </div>

      <div class="btns">
        <button id="addMore" type="button">+ Add another duty slot</button>
        <button id="reset" type="button">Reset</button>
      </div>

      <p class="fineprint">
        Numbers are rough estimates for light-to-moderate physical activity. The court takes no liability for revolts. ðŸ–¤
      </p>
    </div>

    <div class="card">
      <p class="muted">Total burned calories</p>
      <div class="total" id="total">0 kcal</div>
      <p class="muted" id="detail" style="margin-top:10px"></p>
    </div>
  </div>

<script>
  // kcal per hour (approx.)
  const DUTIES = [
    ["Making beds & changing linens", 120],
    ["Sweeping corridors", 170],
    ["Mopping stone floors", 250],
    ["Scrubbing baths & washrooms", 220],
    ["Carrying water buckets", 300],
    ["Hauling firewood", 350],
    ["Lighting/replacing candles", 100],
    ["Polishing silver & mirrors", 90],
    ["Washing laundry by hand", 200],
    ["Hanging wet laundry", 180],
    ["Ironing & pressing garments", 120],
    ["Cleaning windows", 170],
    ["Beating carpets", 280],
    ["Kitchen chopping & stirring", 150],
    ["Kneading dough", 250],
    ["Carrying serving trays", 140],
    ["Running between kitchen and hall", 300],
    ["Washing dishes", 120],
    ["Cleaning stables", 400],
    ["Brushing horses", 200],
    ["Fetching supplies (walking)", 220],
    ["Climbing tower stairs", 450],
    ["Standing at attention", 70],
    ["Guarding doors (alert posture)", 120],
    ["Digging in the garden", 350],
    ["Weeding flower beds", 220],
    ["Carrying soil and pots", 300],
    ["Drawing/heating bath water", 280],
    ["Foot massage", 120],
    ["Hair brushing & styling", 100],
    ["Lacing corsets & dressing gowns", 130],
    ["Sewing & mending", 80],
    ["Cleaning armor", 180],
    ["Carrying chests & luggage", 400],
    ["Running royal errands", 250],
    ["Holding parasols & gown trains", 90],
    ["Arranging flowers", 110],
    ["Writing & delivering letters", 130],
    ["Soothing the Princess (anxious)", 300],
    ["Calming royal drama", 350],
    ["Listening to royal worries & secrets", 200]
  ];

  function fillSelect(sel){
    sel.innerHTML = "";
    const opt0 = document.createElement("option");
    opt0.value = "";
    opt0.textContent = "Select a dutyâ€¦";
    sel.appendChild(opt0);

    for(const [name,kcal] of DUTIES){
      const o = document.createElement("option");
      o.value = kcal;
      o.textContent = `${name} â€” ${kcal} kcal/h`;
      sel.appendChild(o);
    }
  }

  function calc(){
    let total = 0;
    let parts = [];
    document.querySelectorAll("[data-duty-row]").forEach(row=>{
      const sel = row.querySelector("select");
      const hrs = row.querySelector("input");
      const kcal = Number(sel.value || 0);
      const h = Number(hrs.value || 0);
      if(kcal > 0 && h > 0){
        const sub = kcal * h;
        total += sub;
        parts.push(`${sel.options[sel.selectedIndex].text.split(" â€” ")[0]}: ${sub.toFixed(0)} kcal`);
      }
    });
    document.getElementById("total").textContent = `${total.toFixed(0)} kcal`;
    document.getElementById("detail").textContent = parts.length ? parts.join(" â€¢ ") : "Choose duties to see the breakdown.";
  }

  // setup initial selects
  ["task1","task2","task3","task4"].forEach(id=>fillSelect(document.getElementById(id)));

  // mark rows for calc
  function markRows(){
    document.querySelectorAll(".row").forEach(r=>{
      if(!r.hasAttribute("data-duty-row") && r.querySelector("select") && r.querySelector("input")){
        r.setAttribute("data-duty-row","1");
      }
    });
  }
  markRows();

  // listeners
  document.addEventListener("input", (e)=>{
    if(e.target.matches("select") || e.target.matches("input")) calc();
  });

  document.getElementById("reset").addEventListener("click", ()=>{
    document.querySelectorAll("[data-duty-row]").forEach((row,i)=>{
      row.querySelector("select").value = "";
      row.querySelector("input").value = (i < 3 ? 1 : 0);
    });
    calc();
  });

  // add more duty slot
  document.getElementById("addMore").addEventListener("click", ()=>{
    const card = document.querySelector(".card");
    const div = document.createElement("div");
    div.className = "row";
    div.style.marginTop = "10px";
    div.setAttribute("data-duty-row","1");

    const left = document.createElement("div");
    const label = document.createElement("label");
    label.textContent = `Duty ${document.querySelectorAll("[data-duty-row]").length + 1}`;
    const sel = document.createElement("select");
    fillSelect(sel);
    left.appendChild(label);
    left.appendChild(sel);

    const right = document.createElement("div");
    const label2 = document.createElement("label");
    label2.textContent = "Hours";
    const inp = document.createElement("input");
    inp.type = "number"; inp.min="0"; inp.step="0.25"; inp.value="1";
    right.appendChild(label2);
    right.appendChild(inp);

    div.appendChild(left); div.appendChild(right);

    // insert before buttons
    const btns = document.querySelector(".btns");
    btns.parentNode.insertBefore(div, btns);
    calc();
  });

  calc();
</script>
</body>
</html>
